{% extends 'base.html' %}

{% load staticfiles %}

{% block stylesheets %}
<link rel="stylesheet" href="{% static 'myauth/css/center-forms.css' %}" />
{% endblock %}

{% block content %}
<div class="center-forms">
<form action='' method='post'>
    {% csrf_token %}
    {{ event_form.non_field_errors }}
    
    {{ event_form.event_type.errors }}
    {{ event_form.event_type.label_tag }}
    {{ event_form.event_type }}
    
    {{ event_form.event_name.errors }}
    {{ event_form.event_name.label_tag }}
    {{ event_form.event_name }}
    
    {{ event_form.contact.errors }}
    {{ event_form.contact.label_tag }} <br/>
    <span class="help_text">{{ event_form.contact.help_text }}</span>
    {{ event_form.contact }}
    
    {{ event_form.info.errors }}
    {{ event_form.info.label_tag }}
    {{ event_form.info }}
    
    <h2 class="left">Address</h2>
    
    {{ event_form.address.errors }}
    {{ event_form.address.label_tag }}
    {{ event_form.address }}
    
    {{ event_form.town.errors }}
    {{ event_form.town.label_tag }}
    {{ event_form.town }}
    
    {{ event_form.county.errors }}
    {{ event_form.county.label_tag }}
    {{ event_form.county }}
    
    {{ event_form.country.errors }}
    {{ event_form.country.label_tag }}
    {{ event_form.country }}
    
    {{ event_form.postcode.errors }}
    {{ event_form.postcode.label_tag }}
    {{ event_form.postcode }}
    
    <br> <br> <br>
    
    {{ event_form.latitude.errors }}
    {{ event_form.latitude.label_tag }}
    {{ event_form.latitude }}
    
    {{ event_form.longitude.errors }}
    {{ event_form.longitude.label_tag }}
    {{ event_form.longitude }}
    
    <h2 class="left"> Date </h2>
    <div id="week_form_div">
    {{ week_form }}
    </div>
    
    <div id="month_form_div">
    {{ month_form }}
    </div>
    
    <div id="onetime_form_div">
    {{ onetime_form }}
    </div>
    
    <input type="submit" value="Create Event">
</form>
</div>


<script type="text/javascript">
function changeForm() {
    document.getElementById('week_form_div').style.display = "none";
    document.getElementById('month_form_div').style.display = "none";
    document.getElementById('onetime_form_div').style.display = "none";
    
    var selectValue = document.getElementById('{{ event_form.event_type.auto_id }}').value;
    
    if (selectValue == "week") {
        document.getElementById('week_form_div').style.display = "block";
    } else if (selectValue == "month") {
        document.getElementById('month_form_div').style.display = "block";
    } else if (selectValue == "onetime") {
        document.getElementById('onetime_form_div').style.display = "block";
    }
}

window.onload = changeForm;
</script>

{% endblock %}